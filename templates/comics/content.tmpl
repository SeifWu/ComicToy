{{ define "comics/content.tmpl" }}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="/assets/favicon.ico">
  <title>{{ .title }}</title>
  <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet">
  <link href="https://cdn.bootcdn.net/ajax/libs/fullPage.js/3.0.9/fullpage.min.css" rel="stylesheet">
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/fullPage.js/3.0.9/fullpage.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/fullPage.js/3.0.9/vendors/scrolloverflow.min.js"></script>
</head>
<body>
  <div id="fullpage">
    <div class="section fp-auto-height-responsive">
      <div style="min-height: 100vh;">
        <h1 style="text-align: center; line-height: 100vh" > {{ .data.Name }}</h1>
      </div>
    </div>
    {{ range $i, $data := .data.ComicChapterDetail}}
      <div class="section fp-auto-height-responsive">
        <div style="min-height: 100vh;position: relative;">
          <i class="download icon"
            style="
              animation-duration: 1.6s;
              animation-name: bounce-down;
              animation-iteration-count: infinite;
              font-size: 22px;
              line-height: 100vh;
              position: absolute;
              z-index: -1;
              left: 50%;
            "
          ></i>
          <img
            id="img-{{ $i }}"
            style="
              width: 100%;
              height: 100%;
              -webkit-user-select: none;
              -moz-user-select: none;
              -ms-user-select: none;
              user-select: none;
            "
           data-src="{{ .URL }}">
        </div>
      </div>
    {{ end }}
    <div class="section fp-auto-height-responsive">
      <div style="text-align: center;">
        <div style="padding: 12px">上一话：{{ .previousChapter.Name }}</div>
        <button class="ui labeled icon button" onclick="gotoPrevious()">
          <i class="left arrow icon"></i> 上一话
        </button>
        <button class="ui labeled icon button" onclick="gotoList()"><i class="home icon"></i> 列表 </button>
        <button class="ui right labeled icon button" onclick="gotoNext()">
          <i class="right arrow icon"></i> 下一话
        </button>
        <div style="padding: 12px">下一话：{{ .nextChapter.Name }}</div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    var myFullpage = new fullpage('#fullpage', {
      licenseKey: "41B60AA8-191044CF-B335797B-18D31A15",
      scrollOverflow: true,
    });


    function gotoList() {
      window.location.href="/comic/{{.data.ComicID}}";
    }

    function gotoNext() {
      window.location.href="/comic/{{.data.ComicID}}/{{ .nextChapter.ID }}";
    }

    function gotoPrevious() {
      window.location.href="/comic/{{.data.ComicID}}/{{ .previousChapter.ID }}";
    }
  </script>

  <style>
    @-webkit-keyframes bounce-down {
      25% {
        -webkit-transform: translateY(-4px);
      }
      50%, 100% {
        -webkit-transform: translateY(0);
      }
      75% {
        -webkit-transform: translateY(4px);
      }
    }

    @keyframes bounce-down {
      25% {
        transform: translateY(-4px);
      }
      50%, 100% {
        transform: translateY(0);
      }
      75% {
        transform: translateY(4px);
      }
    }
  </style>

</body>
</html>
{{ end }}
